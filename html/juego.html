<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Appli de L√©na ‚Äî Mission d'apprentissage</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/juego.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600;700;900&family=Nunito:wght@600;800&display=swap" rel="stylesheet">
</head>
<body class="mission-body" data-environment="forest">
    <div class="mission-backdrop" aria-hidden="true">
        <div class="mission-backdrop__layer mission-backdrop__layer--gradient"></div>
        <div class="mission-backdrop__layer mission-backdrop__layer--sparkles"></div>
        <div class="mission-backdrop__layer mission-backdrop__layer--orbs"></div>
    </div>

    <div class="mission-wrapper">
        <header class="mission-header">
            <button id="btnBackMenu" class="header-btn" type="button">‚Üê Menu</button>
            <div class="mission-header__profile" id="missionProfile">
                <div class="mission-header__avatar" id="missionAvatar"></div>
                <div class="mission-header__info">
                    <p class="mission-header__greeting" id="missionGreeting">Salut, aventuri√®re !</p>
                    <p class="mission-header__section" id="missionSection">Section en cours</p>
                </div>
            </div>
            <div class="mission-header__scores">
                <div class="mission-score" data-score="stars">
                    <span class="mission-score__icon">‚≠ê</span>
                    <span class="mission-score__value" id="scoreStars">0</span>
                </div>
                <div class="mission-score" data-score="coins">
                    <span class="mission-score__icon">üí∞</span>
                    <span class="mission-score__value" id="scoreCoins">0</span>
                </div>
                <div class="mission-score" data-score="stickers">
                    <span class="mission-score__icon">üê±</span>
                    <span class="mission-score__value" id="scoreStickers">0</span>
                </div>
            </div>
        </header>

        <main class="mission-stage" role="main">
            <section class="mission-card" aria-label="Carte de mission">
                <header class="mission-card__header">
                    <div class="mission-card__badge" id="levelBadge">Choisis un niveau ‚ú®</div>
                    <div class="mission-card__progress">
                        <span class="mission-progress__label" id="questionProgress">Question 1 / 5</span>
                        <div class="mission-progress__bar">
                            <div class="mission-progress__fill" id="questionProgressFill"></div>
                        </div>
                    </div>
                    <div class="mission-timer" id="missionTimer" hidden>
                        ‚è±Ô∏è <span id="timerValue">03:00</span>
                    </div>
                </header>

                <div class="mission-card__selectors">
                    <div class="mission-categories" id="categoryBlock" aria-label="Choix des jeux">
                        <h2 class="mission-categories__title">Jeux</h2>
                        <ul class="mission-categories__list" id="categoryList"></ul>
                    </div>
                    <div class="mission-medals" aria-label="Choix du niveau">
                        <h2 class="mission-medals__title">Niveaux</h2>
                        <div class="mission-medals__track" id="levelList" role="list"></div>
                    </div>
                </div>

                <div class="mission-card__content">
                    <article class="question-card" id="questionCard" aria-live="polite">
                        <div class="question-card__illustration" id="questionIllustration" aria-hidden="true"></div>
                        <p class="question-card__text" id="questionText">La question appara√Ætra ici.</p>
                    </article>
                    <div class="options-grid" id="optionsGrid" role="group" aria-label="Choisis une r√©ponse"></div>
                </div>

                <footer class="mission-card__footer">
                    <div class="mission-feedback" id="missionFeedback" aria-live="polite"></div>
                    <div class="mission-actions">
                        <button id="btnHint" class="mission-action" type="button">üí° Indice</button>
                        <button id="btnSkip" class="mission-action" type="button">‚è≠Ô∏è Passer</button>
                        <button id="btnReview" class="mission-action" type="button">üîÅ R√©vision</button>
                    </div>
                    <div class="mission-rewards" aria-label="R√©compenses">
                        <h2 class="reward-board__title">R√©compenses</h2>
                        <ul class="reward-board__list" id="rewardList"></ul>
                        <div class="review-tracker" id="reviewTracker" hidden>
                            <h3>R√©vision magique</h3>
                            <p id="reviewCount">0 question(s) √† revoir</p>
                        </div>
                    </div>
                </footer>
            </section>
        </main>
    </div>

    <div id="feedbackOverlay" class="feedback-overlay" aria-hidden="true">
        <div class="feedback-overlay__icon" id="feedbackIcon">‚úÖ</div>
        <p class="feedback-overlay__text" id="feedbackText">Bravo !</p>
    </div>

    <div id="levelSummary" class="level-summary" aria-hidden="true" role="dialog" aria-labelledby="summaryTitle">
        <div class="level-summary__content">
            <h2 id="summaryTitle">Niveau termin√© ‚ú®</h2>
            <p id="summaryMessage">Super travail !</p>
            <div class="level-summary__stats">
                <div class="summary-stat"><span>‚≠ê</span><strong id="summaryStars">0</strong></div>
                <div class="summary-stat"><span>üí∞</span><strong id="summaryCoins">0</strong></div>
                <div class="summary-stat"><span>üêæ</span><strong id="summaryStickers">0</strong></div>
            </div>
            <div class="level-summary__actions">
                <button id="summaryRetry" class="summary-btn">Rejouer le niveau</button>
                <button id="summaryNext" class="summary-btn summary-btn--primary">Niveau suivant</button>
            </div>
        </div>
    </div>

    <audio id="soundCorrect" src="https://assets.mixkit.co/sfx/download/mixkit-extra-bonus-in-a-video-game-2045.wav" preload="auto"></audio>
    <audio id="soundWrong" src="https://assets.mixkit.co/sfx/download/mixkit-failure-arcade-alert-notification-240.wav" preload="auto"></audio>
    <audio id="soundLevel" src="https://assets.mixkit.co/sfx/download/mixkit-magic-bonus-earned-314.wav" preload="auto"></audio>

    <nav class="mobile-nav" aria-label="Navigation principale mobile">
        <button type="button" class="mobile-nav__btn" data-nav="games">üé≤ Jeux</button>
        <button type="button" class="mobile-nav__btn" data-nav="rewards">‚≠ê R√©compenses</button>
        <button type="button" class="mobile-nav__btn" data-nav="help">üßö Aide</button>
        <button type="button" class="mobile-nav__btn" data-nav="profile">üë§ Profil</button>
    </nav>

    <script src="https://cdn.jsdelivr.net/npm/tsparticles-confetti@2.12.0/tsparticles.confetti.bundle.min.js"></script>
    <script src="../js/avatarData.js"></script>
    <script src="../js/storage.js"></script>
    <script src="../js/juego.js"></script>
</body>
</html>
